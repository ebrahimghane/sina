{"version":3,"file":"sina-sdk.js","sources":["../../../node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js","../../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js","../../../node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js","../../../packages/api/src/searchia-client.ts","../../../packages/shared-utils/src/debounce.ts","../../../packages/shared-utils/src/url-builder.ts","../../../packages/ui/src/SearchInput/index.tsx","../../../packages/ui/src/SuggestionItem/index.tsx","../src/components/SearchBox.tsx","../src/components/Suggestions.tsx","../src/styles/widget.css?raw","../src/widget.tsx","../src/index.ts"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import type { SearchiaResponse } from './types';\r\n\r\nconst API_ENDPOINT = 'https://apigw.paziresh24.com/v1/searchia-api/v2/qs/index/slim_clinic_query_su';\r\n\r\n/**\r\n * Fetches query suggestions from Searchia API\r\n * @param query - The search query text\r\n * @param apiKey - The API key for authentication\r\n * @returns Promise with the API response or null on error\r\n */\r\nexport async function fetchSuggestions(\r\n  query: string,\r\n  apiKey: string\r\n): Promise<SearchiaResponse | null> {\r\n  if (!query || query.trim().length === 0) {\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    const url = new URL(API_ENDPOINT);\r\n    url.searchParams.set('query', query.trim());\r\n\r\n    const response = await fetch(url.toString(), {\r\n      method: 'GET',\r\n      headers: {\r\n        apikey: apiKey,\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      // Silently fail - don't crash the widget\r\n      console.warn(`Searchia API error: ${response.status} ${response.statusText}`);\r\n      return null;\r\n    }\r\n\r\n    const data = await response.json();\r\n    \r\n    // Validate response structure\r\n    if (data && data.entity && Array.isArray(data.entity.topQuerySuggestions)) {\r\n      return data as SearchiaResponse;\r\n    }\r\n    \r\n    console.warn('Invalid API response structure:', data);\r\n    return null;\r\n  } catch (error) {\r\n    // Silently fail - don't crash the widget\r\n    console.warn('Failed to fetch suggestions:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\n","/**\r\n * Creates a debounced function that delays invoking func until after wait milliseconds\r\n * have elapsed since the last time the debounced function was invoked.\r\n */\r\nexport function debounce<T extends (...args: any[]) => any>(\r\n  func: T,\r\n  wait: number\r\n): (...args: Parameters<T>) => void {\r\n  let timeoutId: ReturnType<typeof setTimeout> | null = null;\r\n\r\n  return function debounced(...args: Parameters<T>) {\r\n    if (timeoutId !== null) {\r\n      clearTimeout(timeoutId);\r\n    }\r\n\r\n    timeoutId = setTimeout(() => {\r\n      func(...args);\r\n    }, wait);\r\n  };\r\n}\r\n\r\n","/**\r\n * Builds the search URL for redirecting to paziresh24.com\r\n * @param query - The search query text\r\n * @returns The complete URL with query parameters\r\n */\r\nexport function buildSearchUrl(query: string): string {\r\n  const baseUrl = 'https://www.paziresh24.com/s/';\r\n  const params = new URLSearchParams({\r\n    text: query,\r\n    ref: 'search_suggestion_box_qs_sina',\r\n    semantic_search: 'true',\r\n  });\r\n\r\n  return `${baseUrl}?${params.toString()}`;\r\n}\r\n\r\n","import React, { useRef, useEffect } from 'react';\r\n\r\nexport interface SearchInputProps {\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n  onFocus?: () => void;\r\n  onBlur?: () => void;\r\n  onEnter?: () => void;\r\n  placeholder?: string;\r\n  className?: string;\r\n}\r\n\r\nexport const SearchInput: React.FC<SearchInputProps> = ({\r\n  value,\r\n  onChange,\r\n  onFocus,\r\n  onBlur,\r\n  onEnter,\r\n  placeholder = 'جستجو...',\r\n  className = '',\r\n}) => {\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  // Auto-resize textarea based on content\r\n  useEffect(() => {\r\n    const textarea = textareaRef.current;\r\n    if (textarea) {\r\n      // Reset height to auto to get the correct scrollHeight\r\n      textarea.style.height = 'auto';\r\n      \r\n      // Calculate new height based on content\r\n      const scrollHeight = textarea.scrollHeight;\r\n      const lineHeight = parseInt(getComputedStyle(textarea).lineHeight) || 24;\r\n      const minHeight = lineHeight + 24; // padding top + bottom\r\n      const maxHeight = lineHeight * 3 + 24; // Max 3 lines\r\n      \r\n      // Set height with min and max constraints\r\n      const newHeight = Math.min(Math.max(scrollHeight, minHeight), maxHeight);\r\n      textarea.style.height = `${newHeight}px`;\r\n      textarea.style.overflowY = scrollHeight > maxHeight ? 'auto' : 'hidden';\r\n    }\r\n  }, [value]);\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\r\n    // Handle Enter key\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      if (onEnter) {\r\n        onEnter();\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <textarea\r\n      ref={textareaRef}\r\n      value={value}\r\n      onChange={(e) => onChange(e.target.value)}\r\n      onKeyDown={handleKeyDown}\r\n      onFocus={onFocus}\r\n      onBlur={onBlur}\r\n      placeholder={placeholder}\r\n      className={className ? `sina-search-input ${className}` : 'sina-search-input'}\r\n      autoComplete=\"off\"\r\n      aria-label=\"جستجو\"\r\n      rows={1}\r\n    />\r\n  );\r\n};\r\n\r\n","import React from 'react';\r\n\r\nexport interface SuggestionItemProps {\r\n  text: string;\r\n  onClick: () => void;\r\n  className?: string;\r\n  highlight?: string;\r\n}\r\n\r\nexport const SuggestionItem: React.FC<SuggestionItemProps> = ({\r\n  text,\r\n  onClick,\r\n  className = '',\r\n  highlight,\r\n}) => {\r\n  const renderText = () => {\r\n    if (!highlight) {\r\n      return text;\r\n    }\r\n\r\n    const parts = text.split(new RegExp(`(${highlight})`, 'gi'));\r\n    return parts.map((part, index) =>\r\n      part.toLowerCase() === highlight.toLowerCase() ? (\r\n        <mark key={index} className=\"sina-highlight\">\r\n          {part}\r\n        </mark>\r\n      ) : (\r\n        part\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <li\r\n      className={className ? `sina-suggestion-item ${className}` : 'sina-suggestion-item'}\r\n      onClick={onClick}\r\n      role=\"option\"\r\n      tabIndex={0}\r\n      onKeyDown={(e) => {\r\n        if (e.key === 'Enter' || e.key === ' ') {\r\n          e.preventDefault();\r\n          onClick();\r\n        }\r\n      }}\r\n    >\r\n      {renderText()}\r\n    </li>\r\n  );\r\n};\r\n\r\n","import React from 'react';\r\nimport { SearchInput } from '@sina/ui';\r\n\r\nexport interface SearchBoxProps {\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n  onFocus: () => void;\r\n  onBlur: () => void;\r\n  onEnter?: () => void;\r\n  placeholder?: string;\r\n}\r\n\r\nexport const SearchBox: React.FC<SearchBoxProps> = ({\r\n  value,\r\n  onChange,\r\n  onFocus,\r\n  onBlur,\r\n  onEnter,\r\n  placeholder,\r\n}) => {\r\n  return (\r\n    <div className=\"sina-search-box\">\r\n      <div className=\"sina-search-input-wrapper\">\r\n        <SearchInput\r\n          value={value}\r\n          onChange={onChange}\r\n          onFocus={onFocus}\r\n          onBlur={onBlur}\r\n          onEnter={onEnter}\r\n          placeholder={placeholder}\r\n        />\r\n        <svg\r\n          className=\"sina-search-icon\"\r\n          width=\"20\"\r\n          height=\"20\"\r\n          viewBox=\"0 0 24 24\"\r\n          fill=\"none\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <path\r\n            d=\"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n","import React from 'react';\r\nimport { SuggestionItem } from '@sina/ui';\r\nimport { buildSearchUrl } from '@sina/shared-utils';\r\n\r\nexport interface SuggestionsProps {\r\n  suggestions: string[];\r\n  query: string;\r\n  isVisible: boolean;\r\n  onSelect: (query: string) => void;\r\n}\r\n\r\nexport const Suggestions: React.FC<SuggestionsProps> = ({\r\n  suggestions,\r\n  query,\r\n  isVisible,\r\n  onSelect,\r\n}) => {\r\n  if (!isVisible || suggestions.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  const handleSelect = (suggestion: string) => {\r\n    const url = buildSearchUrl(suggestion);\r\n    window.location.href = url;\r\n    onSelect(suggestion);\r\n  };\r\n\r\n  const SearchIcon = () => (\r\n    <svg\r\n      className=\"sina-suggestion-icon\"\r\n      width=\"16\"\r\n      height=\"16\"\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        d=\"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      />\r\n    </svg>\r\n  );\r\n\r\n  return (\r\n    <div className=\"sina-suggestions-container\">\r\n      <ul className=\"sina-suggestions-list\" role=\"listbox\">\r\n        {suggestions.map((suggestion, index) => (\r\n          <li\r\n            key={`${suggestion}-${index}`}\r\n            className=\"sina-suggestion-item-wrapper\"\r\n            onClick={() => handleSelect(suggestion)}\r\n          >\r\n            <SearchIcon />\r\n            <SuggestionItem\r\n              text={suggestion}\r\n              onClick={() => handleSelect(suggestion)}\r\n              highlight={query}\r\n            />\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\n","export default \"/* SINA Widget Styles - Mobile First */\\r\\n\\r\\n.sina-widget {\\r\\n  position: relative;\\r\\n  width: 100%;\\r\\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\\r\\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\\r\\n  font-size: 14px;\\r\\n  line-height: 1.5;\\r\\n  color: #333;\\r\\n  box-sizing: border-box;\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n}\\r\\n\\r\\n/* Search Box */\\r\\n.sina-search-box {\\r\\n  width: 100%;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.sina-search-input-wrapper {\\r\\n  position: relative;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.sina-search-icon {\\r\\n  position: absolute;\\r\\n  left: 16px;\\r\\n  color: #999;\\r\\n  pointer-events: none;\\r\\n  z-index: 1;\\r\\n}\\r\\n\\r\\n.sina-search-input {\\r\\n  width: 100%;\\r\\n  padding: 12px 16px 12px 48px;\\r\\n  font-size: 16px;\\r\\n  line-height: 1.5;\\r\\n  border: 2px solid #e0e0e0;\\r\\n  border-radius: 8px;\\r\\n  outline: none;\\r\\n  transition: border-color 0.2s ease;\\r\\n  box-sizing: border-box;\\r\\n  background-color: #fff;\\r\\n  direction: rtl;\\r\\n  text-align: right;\\r\\n  resize: none;\\r\\n  overflow: hidden;\\r\\n  min-height: 48px;\\r\\n  max-height: 120px;\\r\\n  font-family: inherit;\\r\\n}\\r\\n\\r\\n.sina-search-input:focus {\\r\\n  border-color: #4a90e2;\\r\\n  box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1);\\r\\n}\\r\\n\\r\\n.sina-search-input::placeholder {\\r\\n  color: #999;\\r\\n}\\r\\n\\r\\n/* Suggestions Container */\\r\\n.sina-suggestions-container {\\r\\n  position: absolute;\\r\\n  top: 100%;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n  margin-top: 4px;\\r\\n  background-color: #fff;\\r\\n  border: 1px solid #e0e0e0;\\r\\n  border-radius: 8px;\\r\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\\r\\n  z-index: 999999;\\r\\n  max-height: 400px;\\r\\n  overflow-y: auto;\\r\\n  direction: rtl;\\r\\n}\\r\\n\\r\\n.sina-suggestions-list {\\r\\n  list-style: none;\\r\\n  margin: 0;\\r\\n  padding: 8px 0;\\r\\n}\\r\\n\\r\\n/* Suggestion Item */\\r\\n.sina-suggestion-item-wrapper {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  gap: 8px;\\r\\n  padding: 0;\\r\\n  cursor: pointer;\\r\\n  transition: background-color 0.2s ease;\\r\\n}\\r\\n\\r\\n.sina-suggestion-item-wrapper:hover {\\r\\n  background-color: #f5f5f5;\\r\\n}\\r\\n\\r\\n.sina-suggestion-item-wrapper:active {\\r\\n  background-color: #e8e8e8;\\r\\n}\\r\\n\\r\\n.sina-suggestion-icon {\\r\\n  color: #999;\\r\\n  flex-shrink: 0;\\r\\n  margin-right: 8px;\\r\\n  margin-left: 16px;\\r\\n}\\r\\n\\r\\n.sina-suggestion-item {\\r\\n  padding: 12px 16px 12px 0;\\r\\n  cursor: pointer;\\r\\n  transition: background-color 0.2s ease;\\r\\n  border: none;\\r\\n  background: none;\\r\\n  flex: 1;\\r\\n  text-align: right;\\r\\n  font-size: 14px;\\r\\n  color: #333;\\r\\n}\\r\\n\\r\\n\\r\\n.sina-highlight {\\r\\n  background-color: #fff3cd;\\r\\n  font-weight: 600;\\r\\n  padding: 0 2px;\\r\\n}\\r\\n\\r\\n/* Mobile Responsive */\\r\\n@media (max-width: 768px) {\\r\\n  .sina-widget {\\r\\n    font-size: 16px; /* Prevent zoom on iOS */\\r\\n  }\\r\\n\\r\\n  .sina-search-input {\\r\\n    font-size: 16px; /* Prevent zoom on iOS */\\r\\n    padding: 14px 16px 14px 48px;\\r\\n    min-height: 52px;\\r\\n    max-height: 156px;\\r\\n  }\\r\\n\\r\\n  .sina-suggestions-container {\\r\\n    max-height: 60vh;\\r\\n    border-radius: 0;\\r\\n    border-left: none;\\r\\n    border-right: none;\\r\\n  }\\r\\n\\r\\n  .sina-suggestion-item {\\r\\n    padding: 14px 16px;\\r\\n    font-size: 16px;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Loading State (if needed in future) */\\r\\n.sina-loading {\\r\\n  opacity: 0.6;\\r\\n  pointer-events: none;\\r\\n}\\r\\n\\r\\n\"","import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { createRoot, Root } from 'react-dom/client';\r\nimport { fetchSuggestions } from '@sina/api';\r\nimport { debounce, buildSearchUrl } from '@sina/shared-utils';\r\nimport { SearchBox } from './components/SearchBox';\r\nimport { Suggestions } from './components/Suggestions';\r\nimport type { WidgetConfig, WidgetState } from './types';\r\n// Import CSS as raw string\r\nimport widgetStyles from './styles/widget.css?raw';\r\n\r\nexport interface WidgetProps {\r\n  config: WidgetConfig;\r\n}\r\n\r\nexport const Widget: React.FC<WidgetProps> = ({ config }) => {\r\n  const [state, setState] = useState<WidgetState>({\r\n    query: '',\r\n    suggestions: [],\r\n    isLoading: false,\r\n    isOpen: false,\r\n    error: null,\r\n  });\r\n\r\n  const debouncedFetchRef = useRef<ReturnType<typeof debounce> | null>(null);\r\n\r\n  // Initialize debounced fetch function\r\n  useEffect(() => {\r\n    debouncedFetchRef.current = debounce(async (query: string) => {\r\n      if (!query || query.trim().length === 0) {\r\n        setState((prev) => ({\r\n          ...prev,\r\n          suggestions: [],\r\n          isLoading: false,\r\n        }));\r\n        return;\r\n      }\r\n\r\n      setState((prev) => ({ ...prev, isLoading: true }));\r\n\r\n      const response = await fetchSuggestions(query, config.apiKey);\r\n\r\n      if (response && response.entity && response.entity.topQuerySuggestions) {\r\n        // topQuerySuggestions is already an array of strings\r\n        const suggestions = response.entity.topQuerySuggestions;\r\n        setState((prev) => ({\r\n          ...prev,\r\n          suggestions,\r\n          isLoading: false,\r\n          error: null,\r\n        }));\r\n      } else {\r\n        // If no suggestions from API, use the current query as a suggestion\r\n        const fallbackSuggestion = query && query.trim().length > 0 ? [query.trim()] : [];\r\n        setState((prev) => ({\r\n          ...prev,\r\n          suggestions: fallbackSuggestion,\r\n          isLoading: false,\r\n          error: null,\r\n        }));\r\n      }\r\n    }, 300);\r\n  }, [config.apiKey]);\r\n\r\n  const handleQueryChange = useCallback((value: string) => {\r\n    setState((prev) => ({\r\n      ...prev,\r\n      query: value,\r\n      isOpen: true,\r\n    }));\r\n\r\n    if (debouncedFetchRef.current) {\r\n      debouncedFetchRef.current(value);\r\n    }\r\n  }, []);\r\n\r\n  const handleFocus = useCallback(() => {\r\n    setState((prev) => {\r\n      // Fetch suggestions when clicking on search box\r\n      const currentQuery = prev.query || '';\r\n      if (debouncedFetchRef.current) {\r\n        // Call immediately without debounce for focus event\r\n        debouncedFetchRef.current(currentQuery);\r\n      }\r\n      return {\r\n        ...prev,\r\n        isOpen: prev.suggestions.length > 0,\r\n      };\r\n    });\r\n  }, []);\r\n\r\n  const handleBlur = useCallback(() => {\r\n    // Delay to allow click events on suggestions\r\n    setTimeout(() => {\r\n      setState((prev) => ({\r\n        ...prev,\r\n        isOpen: false,\r\n      }));\r\n    }, 200);\r\n  }, []);\r\n\r\n  const handleSelect = useCallback((query: string) => {\r\n    setState((prev) => ({\r\n      ...prev,\r\n      query,\r\n      isOpen: false,\r\n    }));\r\n  }, []);\r\n\r\n  const handleEnter = useCallback(() => {\r\n    setState((prev) => {\r\n      const { query, suggestions } = prev;\r\n      \r\n      // If there are suggestions, select the first one\r\n      if (suggestions.length > 0) {\r\n        const firstSuggestion = suggestions[0];\r\n        const url = buildSearchUrl(firstSuggestion);\r\n        window.location.href = url;\r\n        return {\r\n          ...prev,\r\n          query: firstSuggestion,\r\n          isOpen: false,\r\n        };\r\n      } else if (query && query.trim().length > 0) {\r\n        // If no suggestions but there's a query, search with the query\r\n        const url = buildSearchUrl(query.trim());\r\n        window.location.href = url;\r\n        return {\r\n          ...prev,\r\n          isOpen: false,\r\n        };\r\n      }\r\n      \r\n      return prev;\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"sina-widget\">\r\n      <SearchBox\r\n        value={state.query}\r\n        onChange={handleQueryChange}\r\n        onFocus={handleFocus}\r\n        onBlur={handleBlur}\r\n        onEnter={handleEnter}\r\n        placeholder={config.placeholder}\r\n      />\r\n      <Suggestions\r\n        suggestions={state.suggestions}\r\n        query={state.query}\r\n        isVisible={state.isOpen}\r\n        onSelect={handleSelect}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Renders the widget into a Shadow DOM\r\n */\r\nexport function renderWidget(container: HTMLElement, config: WidgetConfig): void {\r\n  // Get or create shadow root\r\n  let shadowRoot = container.shadowRoot;\r\n  if (!shadowRoot) {\r\n    shadowRoot = container.attachShadow({ mode: 'open' });\r\n  } else {\r\n    // Clear existing content if re-rendering\r\n    shadowRoot.innerHTML = '';\r\n  }\r\n\r\n  // Inject styles\r\n  const styleElement = document.createElement('style');\r\n  styleElement.textContent = widgetStyles;\r\n  shadowRoot.appendChild(styleElement);\r\n\r\n  // Create root container for React\r\n  const rootContainer = document.createElement('div');\r\n  rootContainer.id = 'sina-widget-root';\r\n  shadowRoot.appendChild(rootContainer);\r\n\r\n  // Render React app\r\n  const root: Root = createRoot(rootContainer);\r\n  root.render(<Widget config={config} />);\r\n}\r\n\r\n","import { renderWidget } from './widget';\r\nimport type { WidgetConfig } from './types';\r\n\r\n/**\r\n * Global window interface for SINA widget\r\n */\r\ndeclare global {\r\n  interface Window {\r\n    SinaWidget?: {\r\n      q: Array<[string, ...unknown[]]>;\r\n      (command: string, ...args: unknown[]): void;\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Default configuration\r\n */\r\nconst DEFAULT_CONFIG: Partial<WidgetConfig> = {\r\n  containerId: 'sina-search-root',\r\n  placeholder: 'از پذیرش24 بپرسید...',\r\n};\r\n\r\n/**\r\n * Initialize the widget\r\n */\r\nfunction init(config: WidgetConfig): void {\r\n  const containerId = config.containerId || DEFAULT_CONFIG.containerId || 'sina-search-root';\r\n  const container = document.getElementById(containerId);\r\n\r\n  if (!container) {\r\n    console.error(`SINA Widget: Container element with id \"${containerId}\" not found`);\r\n    return;\r\n  }\r\n\r\n  // Merge with defaults\r\n  const finalConfig: WidgetConfig = {\r\n    ...DEFAULT_CONFIG,\r\n    ...config,\r\n  };\r\n\r\n  // Validate required config\r\n  if (!finalConfig.apiKey) {\r\n    console.error('SINA Widget: apiKey is required');\r\n    return;\r\n  }\r\n\r\n  // Read data attributes from container if present\r\n  const dataCity = container.getAttribute('data-city');\r\n  const dataSpecialty = container.getAttribute('data-specialty');\r\n  const dataPlaceholder = container.getAttribute('data-placeholder');\r\n\r\n  if (dataCity) {\r\n    finalConfig.city = dataCity;\r\n  }\r\n  if (dataSpecialty) {\r\n    finalConfig.specialty = dataSpecialty;\r\n  }\r\n  if (dataPlaceholder) {\r\n    finalConfig.placeholder = dataPlaceholder;\r\n  }\r\n\r\n  // Render widget\r\n  renderWidget(container, finalConfig);\r\n}\r\n\r\n/**\r\n * SINA Widget loader function\r\n * Supports queue pattern for async loading\r\n */\r\nfunction sinaLoader(command: string, ...args: unknown[]): void {\r\n  if (command === 'init') {\r\n    const config = args[0] as WidgetConfig;\r\n    if (config) {\r\n      // Wait for DOM to be ready\r\n      if (document.readyState === 'loading') {\r\n        document.addEventListener('DOMContentLoaded', () => init(config));\r\n      } else {\r\n        init(config);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Initialize the loader queue\r\n * This handles both immediate calls and queued calls from the loader snippet\r\n */\r\nif (typeof window !== 'undefined') {\r\n  // Check if queue already exists (from loader snippet)\r\n  const existingQueue = (window.SinaWidget as { q?: Array<[string, ...unknown[]]> })?.q || [];\r\n  \r\n  // Create the main function\r\n  const sinaFunction = sinaLoader as Window['SinaWidget'];\r\n  (sinaFunction as { q: Array<[string, ...unknown[]]> }).q = existingQueue;\r\n  \r\n  // Process any queued commands\r\n  if (existingQueue.length > 0) {\r\n    existingQueue.forEach(([command, ...args]) => {\r\n      sinaLoader(command, ...args);\r\n    });\r\n    existingQueue.length = 0; // Clear queue after processing\r\n  }\r\n  \r\n  // Set the main function and also expose init directly\r\n  window.SinaWidget = sinaFunction;\r\n  (window.SinaWidget as { init: typeof init }).init = init;\r\n}\r\n\r\n// Export for UMD\r\nexport { init, renderWidget };\r\nexport type { WidgetConfig } from './types';\r\n\r\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","createRoot","API_ENDPOINT","fetchSuggestions","query","apiKey","url","response","data","error","debounce","func","wait","timeoutId","args","buildSearchUrl","baseUrl","params","SearchInput","value","onChange","onFocus","onBlur","onEnter","placeholder","className","textareaRef","useRef","useEffect","textarea","scrollHeight","lineHeight","minHeight","maxHeight","newHeight","handleKeyDown","jsx","SuggestionItem","text","onClick","highlight","renderText","part","index","SearchBox","jsxs","Suggestions","suggestions","isVisible","onSelect","handleSelect","suggestion","SearchIcon","widgetStyles","Widget","config","state","setState","useState","debouncedFetchRef","prev","fallbackSuggestion","handleQueryChange","useCallback","handleFocus","currentQuery","handleBlur","handleEnter","firstSuggestion","renderWidget","container","shadowRoot","styleElement","rootContainer","DEFAULT_CONFIG","init","containerId","finalConfig","dataCity","dataSpecialty","dataPlaceholder","sinaLoader","command","existingQueue","_a","sinaFunction"],"mappings":"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","x_google_ignoreList":[0,1,2]}